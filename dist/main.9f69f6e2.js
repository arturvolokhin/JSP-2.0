parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"RkSw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.data=void 0;var e=[{id:"#todo",title:"Todo",counter:0,btnDeleteCard:"kanban__column-delete-cards",btnCreateCard:"kanban__column-add-elements",todos:[]},{id:"#inProgress",title:"In Progress",counter:0,columnClass:"kanban__column kanban__column--progress",btnDeleteCard:"kanban__column-delete-cards",todos:[]},{id:"#done",title:"Done",counter:0,columnClass:"kanban__column kanban__column--done",btnDeleteCard:"kanban__column-delete-cards",todos:[]}];exports.data=e;
},{}],"CTTX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.setElementInLocalStorage=t,exports.getElementInLocalStorage=o;var e=require("./data.js");function t(e,t){localStorage.setItem(t,JSON.stringify(e))}function o(o){return null==localStorage.todos&&t(e.data,"todos"),JSON.parse(localStorage.getItem(o))}
},{"./data.js":"RkSw"}],"dOhy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getUserData=void 0;var e=function(){return fetch("https://jsonplaceholder.typicode.com/users").then(function(e){return e.json()}).then(function(e){var t=[];return e.forEach(function(e){return t.push(e.name)}),t}).then(function(e){if(0===document.querySelector(".modal__list").children.length)for(var t=0;t<e.length;t++){var n=new Option(e[t],"".concat(e[t]));document.querySelector(".modal__list").append(n)}}).catch(alert)};exports.getUserData=e;
},{}],"bl3G":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.App=void 0;var n=require("./Column.js"),a=require("./storageApi.js"),t=require("./serviceApi.js");function e(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")}function c(n,a){for(var t=0;t<a.length;t++){var e=a[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}function i(n,a,t){return a&&c(n.prototype,a),t&&c(n,t),n}var r=function(){function c(){e(this,c)}return i(c,[{key:"createColumn",value:function(){return'<div class="kanban__column-head">\n                  <p class="kanban__column-count">'.concat(this.counter,'</p>\n                  <h2 class="kanban__column-title">').concat(this.title,'</h2>\n                  <div class="kanban__column-icons">\n                      <div class="').concat(this.btnDeleteCard,'"></div>\n                      <div class="').concat(this.btnCreateCard,'"></div>\n                  </div>\n              </div>\n              <div class="kanban__body">\n              </div>')}},{key:"createCard",value:function(n){return'<div class="kanban__card" id = "'.concat(n.id,'">\n                  <p class="kanban__card-name">').concat(n.title,'</p>\n                  <p class="kanban__card-comment unvisible">').concat(n.comment,'</p>\n                  <div class="kanban__card-button kanban__card-button--setting unvisible"></div>\n                  <div class="kanban__card-button kanban__card-button--next"></div>\n                  <div class="kanban__card-footer">\n                      <p class="kanban__card-date">').concat(n.date,'</p>\n                      <p class="kanban__card-user unvisible">').concat(n.author,'</p>\n                  </div>\n                  <div class="kanban__card-close unvisible"></div>\n              </div>')}},{key:"createCardSettingsModal",value:function(){return'<ul class="kanban__card-setting">\n                  <li class="kanban__card-item  kanban__card-item--edit">Изменить комментарий и название заметки</li>\n                  <li class="kanban__card-item  kanban__card-item--delete">Удалить заметку</li>\n              </ul>'}},{key:"createCardSettingsModalWithoutEdit",value:function(){return'<ul class="kanban__card-setting">\n                  <li class="kanban__card-item  kanban__card-item--delete">Удалить заметку</li>\n              </ul>'}},{key:"createEditCardModal",value:function(){return'<ul class="kanban__card-edit">\n                <input type="text" class="kanban__card-edit--name" placeholder="Изменить название заметки">\n                <textarea class="kanban__card-edit--comment" placeholder="Изменить комментарий заметки"></textarea>\n                <div class="kanban__card-edit--buttons">\n                    <button class="kanban__card-edit--button  kanban__card-edit--submit">Сохранить</button>\n                    <button class="kanban__card-edit--button  kanban__card-edit--cancel">Отменить</button>\n                </div>\n            </ul>'}},{key:"init",value:function(){(0,t.getUserData)(),this.todosData=(0,a.getElementInLocalStorage)("todos"),this.todosData.forEach(function(a){return new n.Column(a).init()})}}]),c}();exports.App=r;
},{"./Column.js":"ETpE","./storageApi.js":"CTTX","./serviceApi.js":"dOhy"}],"alRM":[function(require,module,exports) {
"use strict";function t(t,e,i,s,r){this.title=t,this.comment=e,this.date=s,this.author=i,this.id=r}Object.defineProperty(exports,"__esModule",{value:!0}),exports.CreateNewCard=t;
},{}],"ETpE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Column=void 0;var e=require("./App.js"),t=require("./storageApi.js"),n=require("./Card.js");function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=l(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function a(e){return c(e)||s(e)||l(e)||i()}function i(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function s(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function c(e){if(Array.isArray(e))return u(e)}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function y(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),e}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=p();return function(){var n,o=C(e);if(t){var r=C(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return v(this,n)}}function v(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?b(e):t}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var k=function(o){h(l,e.App);var i=g(l);function l(e){var t;d(this,l),t=i.call(this);var n=e.id,o=e.title,r=e.counter,a=e.columnClass,s=e.btnDeleteCard,c=e.btnCreateCard,u=e.todos;return Object.assign(b(t),{id:n,title:o,counter:r,columnClass:a,btnDeleteCard:s,btnCreateCard:c,todos:u}),t.column=document.querySelector(t.id),t.data=e,t}return y(l,[{key:"init",value:function(){this.deleteOldHtmlElement(this.column),this.column.insertAdjacentHTML("afterbegin",this.createColumn()),this.updateColumnCounter(),this.printCards()}},{key:"updateColumnCounter",value:function(){this.column.querySelector(".kanban__column-count").innerText=this.todos.length}},{key:"printCards",value:function(){var e=this;this.todos.forEach(function(t){e.column.querySelector(".kanban__body").insertAdjacentHTML("afterbegin",e.createCard(t))})}},{key:"toggleVisibleElement",value:function(e){e.classList.toggle("visible")}},{key:"toggleUnvisibleElement",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(function(e){return e.classList.toggle("unvisible")})}},{key:"darkenBackground",value:function(){document.querySelector(".wrap").classList.toggle("darkness")}},{key:"openModal",value:function(e){this.toggleVisibleElement(e),this.darkenBackground()}},{key:"closeModal",value:function(e){this.toggleVisibleElement(e),this.darkenBackground()}},{key:"openCard",value:function(e){e.classList.toggle("card-active"),this.toggleUnvisibleElement(e.querySelector(".kanban__card-comment"),e.querySelector(".kanban__card-button--setting"),e.querySelector(".kanban__card-button--next"),e.querySelector(".kanban__card-user"),e.querySelector(".kanban__card-close")),this.darkenBackground()}},{key:"closeCard",value:function(e){var t=a(e.children).find(function(e){return e.classList.contains("visible")});this.openCard(e),!t||t.classList.toggle("visible")}},{key:"showCardSettings",value:function(e){var t=a(e.closest(".kanban__card").children).find(function(e){return e.classList.contains("kanban__card-setting")});t||"#inProgress"===this.getColumnId(e)||"#done"===this.getColumnId(e)?(t||"#done"!=this.getColumnId(e))&&(t||"#inProgress"!=this.getColumnId(e))||e.parentNode.insertAdjacentHTML("beforeend",this.createCardSettingsModalWithoutEdit()):e.parentNode.insertAdjacentHTML("beforeend",this.createCardSettingsModal()),e.parentNode.querySelector(".kanban__card-setting").classList.toggle("visible")}},{key:"showEditCardModal",value:function(e){a(e.closest(".kanban__card").children).find(function(e){return e.classList.contains("kanban__card-edit")})||e.closest(".kanban__card").insertAdjacentHTML("afterbegin",this.createEditCardModal()),e.closest(".kanban__card-setting").classList.toggle("visible"),e.closest(".kanban__card").querySelector(".kanban__card-edit").classList.toggle("visible")}},{key:"addNewCard",value:function(o){var r=o.offsetParent.querySelector(".modal__name").value,a=o.offsetParent.querySelector(".modal__comment").value,i=o.offsetParent.querySelector(".modal__list").value,l="".concat(this.data[0].todos.length+1),s="".concat((new Date).toLocaleDateString()," \n                ").concat((new Date).toLocaleTimeString().slice(0,-3)),c=new n.CreateNewCard(r,a,i,s,l);this.data[0].todos.push(c),(0,t.setElementInLocalStorage)(this.data,"todos"),(new e.App).init()}},{key:"getCardIndex",value:function(e){return e.closest(".kanban__card").id-1}},{key:"getColumnId",value:function(e){return"#".concat(e.closest(".kanban__column").id)}},{key:"removeCard",value:function(n){var o=this,a=this.data.find(function(e){return e.id===o.getColumnId(n)});a.todos.splice(this.getCardIndex(n),1);var i,l=r(a.todos);try{for(l.s();!(i=l.n()).done;){var s=i.value;s.id="".concat(a.todos.indexOf(s)+1)}}catch(c){l.e(c)}finally{l.f()}(0,t.setElementInLocalStorage)(this.data,"todos"),this.darkenBackground(),(new e.App).init()}},{key:"removeAllCard",value:function(n){var o=this,r=this.data.find(function(e){return e.id===o.getColumnId(n)});"#inProgress"!==r.id||document.querySelector("#modalRemoveAllCards").classList.contains("visible")?(r.todos.length=0,(0,t.setElementInLocalStorage)(this.data,"todos"),(new e.App).init()):(document.querySelector("#modalRemoveAllCards").classList.toggle("visible"),this.darkenBackground())}},{key:"transferCardAnotherColumn",value:function(n){var o,a=this;switch(this.getColumnId(n)){case"#todo":o="#inProgress";break;case"#inProgress":o="#done";break;case"#done":o="#todo"}var i=this.data.find(function(e){return e.id===a.getColumnId(n)}),l=this.data.find(function(e){return e.id===o});if(i.todos[this.getCardIndex(n)].id="".concat(l.todos.length+1),l.todos.length>=6&&"#inProgress"===l.id){document.querySelector("#modalMaxCards").classList.toggle("visible"),this.darkenBackground();var s,c=r(i.todos);try{for(c.s();!(s=c.n()).done;){var u=s.value;u.id="".concat(i.todos.indexOf(u)+1)}}catch(h){c.e(h)}finally{c.f()}}else{"#todo"===o&&(i.todos[this.getCardIndex(n)].comment=""),l.todos.push(i.todos[this.getCardIndex(n)]),i.todos.splice(this.getCardIndex(n),1);var d,f=r(i.todos);try{for(f.s();!(d=f.n()).done;){var y=d.value;y.id="".concat(i.todos.indexOf(y)+1)}}catch(h){f.e(h)}finally{f.f()}(0,t.setElementInLocalStorage)(this.data,"todos"),(new e.App).init()}}},{key:"deleteOldHtmlElement",value:function(e){for(;e.firstChild;)e.removeChild(e.lastChild)}},{key:"clearModalInput",value:function(){document.querySelector(".modal__name").value="",document.querySelector(".modal__comment").value=""}},{key:"editCard",value:function(n){var o=this,r=this.data.find(function(e){return e.id===o.getColumnId(n)});r.todos[this.getCardIndex(n)].title=n.offsetParent.querySelector("input").value,r.todos[this.getCardIndex(n)].comment=n.offsetParent.querySelector("textarea").value,(0,t.setElementInLocalStorage)(this.data,"todos"),this.toggleVisibleElement(n.closest(".kanban__card-edit")),this.darkenBackground(),(new e.App).init()}}]),l}();exports.Column=k;
},{"./App.js":"bl3G","./storageApi.js":"CTTX","./Card.js":"alRM"}],"KIzB":[function(require,module,exports) {
"use strict";var t=require("./Column.js"),e=require("./App.js"),a=require("./storageApi.js");(new e.App).init();var n=new t.Column((0,a.getElementInLocalStorage)("todos"));document.addEventListener("click",function(t){t.target.classList.contains("kanban__column-add-elements")&&n.openModal(document.querySelector(".modal")),t.target.classList.contains("kanban__column-delete-cards")&&n.removeAllCard(t.target),t.target.closest(".kanban__card")&&(t.target.closest(".kanban__card").classList.contains("card-active")||t.target.classList.contains("kanban__card-button--next")||n.openCard(t.target.closest(".kanban__card"))),t.target.closest(".kanban__card-button--setting")&&n.showCardSettings(t.target),t.target.closest(".kanban__card-close")&&n.closeCard(t.target.closest(".kanban__card")),t.target.closest(".kanban__card-item--delete")&&n.removeCard(t.target),t.target.classList.contains("kanban__card-item--edit")&&n.showEditCardModal(t.target),t.target.classList.contains("kanban__card-edit--cancel")&&n.toggleVisibleElement(t.target.closest(".kanban__card-edit")),t.target.classList.contains("kanban__card-button--next")&&n.transferCardAnotherColumn(t.target),t.target.classList.contains("kanban__card-edit--submit")&&n.editCard(t.target),"button-cancel"===t.target.id&&(n.toggleVisibleElement(document.querySelector("#modalRemoveAllCards")),n.darkenBackground()),"button-accept"===t.target.id&&(n.removeAllCard(document.querySelector(".kanban__column--progress")),n.toggleVisibleElement(document.querySelector("#modalRemoveAllCards")),n.darkenBackground()),"button-consent"===t.target.id&&(document.querySelector("#modalMaxCards").classList.toggle("visible"),n.darkenBackground())}),document.querySelector(".modal").addEventListener("click",function(t){t.target.classList.contains("modal__button-accept")&&(n.addNewCard(t.target),n.clearModalInput(),n.closeModal(document.querySelector(".modal"))),t.target.classList.contains("modal__button-cancel")&&n.closeModal(document.querySelector(".modal"))});
},{"./Column.js":"ETpE","./App.js":"bl3G","./storageApi.js":"CTTX"}]},{},["KIzB"], null)